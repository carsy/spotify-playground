"use strict";function myFilter(a){var b=[],c=a.info.type+"",d=a[c+"s"];for(var e in d)d[e]&&b.push({value:d[e].name,popularity:d[e].popularity,type:c,href:d[e].href,artist:d[e].artists?d[e].artists[0].name:d[e].name});return b}$("#ta").typeahead([{name:"Artists",remote:{url:"//ws.spotify.com/search/1/artist.json?q=%QUERY",filter:myFilter},header:'<span class="my-header">Artists</span>'},{name:"Albums",remote:{url:"//ws.spotify.com/search/1/album.json?q=%QUERY",filter:myFilter},engine:Hogan,template:'<span>{{value}}</span><span class="by-artist">by {{artist}}</span>',header:'<span class="my-header">Albums</span>'},{name:"Tracks",remote:{url:"//ws.spotify.com/search/1/track.json?q=%QUERY",filter:myFilter},engine:Hogan,template:'<span>{{value}}</span><span class="by-artist">by {{artist}}</span>',header:'<span class="my-header">Tracks</span>'}]).on("typeahead:selected",function(a,b){var c="//embed.spotify.com/?uri=";"artist"===b.type?$.ajax({url:"http://ws.spotify.com/search/1/track.json?q=artist:"+b.value,success:function(a){var b=11;c+="spotify:trackset:Top tracks for "+a.info.query.split(":")[1]+":";for(var d=0;d<a.tracks.length&&b>d;d++)c+=a.tracks[d].href.split(":")[2]+",";$("#play-btn").attr("src",c).show()}}):(c+=b.href,c+="album"!==b.type?"&view=coverart":"",$("#play-btn").attr("src",c).show())}),$(".typeahead.input-sm").siblings("input.tt-hint").addClass("hint-small"),$(".typeahead.input-lg").siblings("input.tt-hint").addClass("hint-large");