"use strict";function doFilter(a,b){var c=[],d=b[a+"s"];if(null===d)return c;var e=d.items;for(var f in e)e[f]&&c.push({value:e[f].name,popularity:e[f].popularity,type:a,href:e[f].href,uri:e[f].uri,artist:e[f].artists?e[f].artists[0].name:e[f].name});return c}function trackFilter(a){return doFilter("track",a)}function artistFilter(a){return doFilter("artist",a)}function albumFilter(a){return doFilter("album",a)}$("#ta").typeahead([{name:"Artists",remote:{url:"//api.spotify.com/v1/search?type=artist&q=%QUERY",filter:artistFilter},header:'<span class="my-header">Artists</span>'},{name:"Albums",remote:{url:"//api.spotify.com/v1/search?type=album&q=%QUERY",filter:albumFilter},engine:Hogan,template:'<span>{{value}}</span><span class="by-artist">by {{artist}}</span>',header:'<span class="my-header">Albums</span>'},{name:"Tracks",remote:{url:"//api.spotify.com/v1/search?type=track&q=%QUERY",filter:trackFilter},engine:Hogan,template:'<span>{{value}}</span><span class="by-artist">by {{artist}}</span>',header:'<span class="my-header">Tracks</span>'}]).on("typeahead:selected",function(a,b){var c="//embed.spotify.com/?uri=";"artist"===b.type?$.ajax({url:b.href+"/top-tracks?country=us",success:function(a){var d=11;c+="spotify:trackset:Top tracks for "+b.value;for(var e=0;e<a.tracks.length&&d>e;e++)c+=a.tracks[e].uri.split(":")[2]+",";$("#play-btn").attr("src",c).show()}}):(c+=b.uri,c+="album"!==b.type?"&view=coverart":"",$("#play-btn").attr("src",c).show())}),$(".typeahead.input-sm").siblings("input.tt-hint").addClass("hint-small"),$(".typeahead.input-lg").siblings("input.tt-hint").addClass("hint-large");